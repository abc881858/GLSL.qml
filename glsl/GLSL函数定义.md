# GLSL 函数定义

着色器是由一系列全局声明和函数定义组成的。

函数声明规范如下：

```
returnType functionName (type0 arg0, type1 arg1, ..., typen argn);
```

函数定义规范如下：

```
returnType functionName (type0 arg0, type1 arg1, ..., typen argn)
{
    // do some computation
    return returnValue;
}
```

数组可以作为参数，但是不能作为返回值。当把数组作为形参时，数组的元素个数也必须同时传进去。数组作为实参传进函数时，只使用函数的名称即可，不要带下标。

结构体也可以作为参数，返回值也可以是不包含数组的结构体。

main函数是着色器的入口函数。顶点和片元着色器必须包含一个 `main` 函数。它没有参数，也没有返回值，而且必须声明为 `void`。

## 函数调用约定

函数通过值返回的方式被调用。这意味着，在调用时输入参数被拷贝进函数，在函数退出前输出参数被拷贝出给调用者。

函数声明或定义中控制参数拷进还是拷出的方法如下：

- 关键字 `in` 用来说明参数是拷进参数，不能拷出。

- 关键字 `out` 用来说明参数是拷出参数，不能拷进。

- 关键字 `inout` 用来说明参数既可以是拷进参数，也可以使拷出参数。

- 没有使用修饰符的函数参数默认为指定 `in`。

---

[GLSE 语句和结构体](http://blog.csdn.net/hgl868/article/details/7876225)
